(this["webpackJsonpsmaller.pics"]=this["webpackJsonpsmaller.pics"]||[]).push([[0],{20:function(e,t,n){},40:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(14),i=n.n(a),s=(n(20),n(2)),j=n.n(s),u=n(15),l=n(3),o=n(7),b=(n(40),n(41),n(0));var f=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("header",{children:Object(b.jsx)("h1",{children:"smaller.pics"})})})},d=function(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("label",{className:"upload-area",children:Object(b.jsx)("input",{type:"file",name:"upload",accept:"video/*",onInput:e.inputEventHandler})})})},p=function(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("pre",{children:e.text||"ffmpeg not loaded"})})},O=function(e){var t=e.gifSrc,n=e.thumbnailSrc;return Object(b.jsxs)("div",{className:"preview",children:[!t&&n&&Object(b.jsx)("img",{src:n}),t&&Object(b.jsx)("img",{src:t})]})},g=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("form",{children:Object(b.jsx)("button",{className:"download-button",children:"DOWNLOAD"})})})},m=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("footer",{children:"made with \ud83d\udc9c by manila"})})},x=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(l.a)(a,2),s=i[0],x=i[1],h=Object(c.useState)(""),F=Object(l.a)(h,2),v=F[0],S=F[1],w=function(){var e=Object(u.a)(j.a.mark((function e(t){var n,c,a,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.target.files[0])){e.next=22;break}return(c=Object(o.createFFmpeg)({corePath:"ffmpeg-core.js",log:!0})).setLogger((function(e){var t=e.type,n=e.message;console.log(t,n),S(n)})),e.next=6,c.load();case 6:return e.t0=c,e.next=9,Object(o.fetchFile)(n);case 9:return e.t1=e.sent,e.t0.FS.call(e.t0,"writeFile","input",e.t1),e.next=13,c.run("-i","input","-ss","0.01","-vframes","1","-f","image2","thumbnail.jpg");case 13:return a=c.FS("readFile","thumbnail.jpg"),r(URL.createObjectURL(new Blob([a.buffer],{type:"image/jpg"}))),e.next=17,c.run("-i","input","-f","gif","output.gif");case 17:S("ffmpeg exited"),i=c.FS("readFile","output.gif"),S("Done."),s=URL.createObjectURL(new Blob([i.buffer],{type:"image/gif"})),x(s);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)(f,{}),!n&&Object(b.jsx)(d,{inputEventHandler:w}),Object(b.jsx)(O,{thumbnailSrc:n,gifSrc:s}),Object(b.jsx)(p,{text:v}),Object(b.jsx)(g,{}),Object(b.jsx)(m,{})]})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(x,{})}),document.getElementById("root")),h()}},[[43,1,2]]]);
//# sourceMappingURL=main.2fb77234.chunk.js.map